## 复现说明

#### requirements

pytorch 1.9.0

umap

scikit-learn


#### 代码相较于作者repo改动的地方

1.首先修改agents文件夹下的init代码，注释两行代码

from .base import Base

#from .muns import Muns

from .boundary_unlearning import Boundary_Unlearn

#from .retrain import Retrain

from .mia import MIA


2.以svhn-vgg_comparison_with_baselines.ipynb为例，需要将第三个代码框的：

def get_dataloader(args):
    train_loader, test_loader = utils.get_dataloader(args)
    
修改为：

def get_dataloader(args):
    train_loader, test_loader = utils._get_dataloader(args)


3.以svhn-vgg_comparison_with_baselines.ipynb为例，需要将第四个代码框的：

arxiv_name = 'original_model_12-15-02-49'

修改为：

与实际save文件夹下的pth文件命名保持一致。

4.以svhn-vgg_comparison_with_baselines.ipynb为例，需要将SalUn代码框的:

arxiv_name = 'original_model_12-19-21-49'

修改为：

与实际save文件夹下的pth文件命名保持一致。


#### 代码复现

1.先改动代码，见上文，然后首先跑main.py文件

python main.py

python main.py -- --retrain --unlearn_class=1

上面两行指令分别用于 train *original* and *retrained* model

然后修改生成的retrained model的pth文件名，为retrain_model_2023.pth格式，original model的pth文件名保持形似original_model_12-15-02-49_2023.pth的格式不变，其中12-15-02-49字符串作为“代码相较于作者repo改动的地方”第四个代码框的改动内容

2.然后跑svhn-vgg_comparison_with_baselines.ipynb等的ipynb文件，运行的结果展示了作者model的性能和所有baseline性能，与文章对比一致。